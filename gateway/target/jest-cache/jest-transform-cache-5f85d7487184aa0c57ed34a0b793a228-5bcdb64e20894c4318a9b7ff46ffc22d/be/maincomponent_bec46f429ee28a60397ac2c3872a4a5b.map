{"version":3,"sources":["C:\\Users\\Nicolas\\Desktop\\test6\\gateway\\src\\main\\webapp\\app\\layouts\\main\\main.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit, RendererFactory2, Renderer2 } from '@angular/core';\nimport { Title } from '@angular/platform-browser';\nimport { Router, ActivatedRouteSnapshot, NavigationEnd } from '@angular/router';\nimport { TranslateService, LangChangeEvent } from '@ngx-translate/core';\nimport * as dayjs from 'dayjs';\n\nimport { AccountService } from 'app/core/auth/account.service';\n\n@Component({\n  selector: 'jhi-main',\n  templateUrl: './main.component.html',\n})\nexport class MainComponent implements OnInit {\n  private renderer: Renderer2;\n\n  constructor(\n    private accountService: AccountService,\n    private titleService: Title,\n    private router: Router,\n    private translateService: TranslateService,\n    rootRenderer: RendererFactory2\n  ) {\n    this.renderer = rootRenderer.createRenderer(document.querySelector('html'), null);\n  }\n\n  ngOnInit(): void {\n    // try to log in automatically\n    this.accountService.identity().subscribe();\n\n    this.router.events.subscribe(event => {\n      if (event instanceof NavigationEnd) {\n        this.updateTitle();\n      }\n    });\n\n    this.translateService.onLangChange.subscribe((langChangeEvent: LangChangeEvent) => {\n      this.updateTitle();\n      dayjs.locale(langChangeEvent.lang);\n      this.renderer.setAttribute(document.querySelector('html'), 'lang', langChangeEvent.lang);\n    });\n  }\n\n  private getPageTitle(routeSnapshot: ActivatedRouteSnapshot): string {\n    const title: string = routeSnapshot.data['pageTitle'] ?? '';\n    if (routeSnapshot.firstChild) {\n      return this.getPageTitle(routeSnapshot.firstChild) || title;\n    }\n    return title;\n  }\n\n  private updateTitle(): void {\n    let pageTitle = this.getPageTitle(this.router.routerState.snapshot.root);\n    if (!pageTitle) {\n      pageTitle = 'global.title';\n    }\n    this.translateService.get(pageTitle).subscribe(title => this.titleService.setTitle(title));\n  }\n}\n"]}